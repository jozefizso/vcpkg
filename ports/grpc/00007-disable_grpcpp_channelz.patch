diff --git a/CMakeLists.txt b/CMakeLists.txt
index ffefcdc651..7092309f97 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -4821,7 +4821,7 @@ if (gRPC_INSTALL)
 endif()
 
 
-if (gRPC_BUILD_CODEGEN)
+if (gRPC_BUILD_CODEGEN AND NOT gRPC_USE_PROTO_LITE)
 add_library(grpcpp_channelz
   src/cpp/server/channelz/channelz_service.cc
   src/cpp/server/channelz/channelz_service_plugin.cc
@@ -4880,7 +4880,7 @@ foreach(_hdr
 endforeach()
 
 
-if (gRPC_BUILD_CODEGEN)
+if (gRPC_BUILD_CODEGEN AND NOT gRPC_USE_PROTO_LITE)
 
 if (gRPC_INSTALL)
   install(TARGETS grpcpp_channelz EXPORT gRPCTargets
@@ -4889,9 +4889,9 @@ if (gRPC_INSTALL)
     ARCHIVE DESTINATION ${gRPC_INSTALL_LIBDIR}
   )
 endif()
-endif (gRPC_BUILD_CODEGEN)
+endif (gRPC_BUILD_CODEGEN AND NOT gRPC_USE_PROTO_LITE)
 
-endif (gRPC_BUILD_CODEGEN)
+endif (gRPC_BUILD_CODEGEN AND NOT gRPC_USE_PROTO_LITE)
 if (gRPC_BUILD_TESTS)
 
 if (gRPC_BUILD_CODEGEN)
