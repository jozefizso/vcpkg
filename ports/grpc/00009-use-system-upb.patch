diff --git a/CMakeLists.txt b/CMakeLists.txt
index e5da2e8b1e..e288eeaae1 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1291,7 +1291,7 @@ target_link_libraries(alts_test_util
   ${_gRPC_ALLTARGETS_LIBRARIES}
   grpc
   gpr
-  upb
+  ${_gRPC_UPB_LIBRARIES}
 )
 
 foreach(_hdr
@@ -1959,7 +1959,7 @@ target_link_libraries(grpc
   ${_gRPC_UPB_LIBRARIES}
   ${_gRPC_ALLTARGETS_LIBRARIES}
   gpr
-  upb
+  ${_gRPC_UPB_LIBRARIES}
 )
 if(_gRPC_PLATFORM_IOS OR _gRPC_PLATFORM_MAC)
   target_link_libraries(grpc "-framework CoreFoundation")
@@ -2370,7 +2370,7 @@ target_link_libraries(grpc_cronet
   ${_gRPC_UPB_LIBRARIES}
   ${_gRPC_ALLTARGETS_LIBRARIES}
   gpr
-  upb
+  ${_gRPC_UPB_LIBRARIES}
 )
 if(_gRPC_PLATFORM_IOS OR _gRPC_PLATFORM_MAC)
   target_link_libraries(grpc_cronet "-framework CoreFoundation")
@@ -2712,7 +2712,7 @@ target_link_libraries(grpc_test_util
   ${_gRPC_ALLTARGETS_LIBRARIES}
   gpr
   grpc
-  upb
+  ${_gRPC_UPB_LIBRARIES}
 )
 if(_gRPC_PLATFORM_IOS OR _gRPC_PLATFORM_MAC)
   target_link_libraries(grpc_test_util "-framework CoreFoundation")
@@ -3056,7 +3056,7 @@ target_link_libraries(grpc_test_util_unsecure
   ${_gRPC_ALLTARGETS_LIBRARIES}
   gpr
   grpc_unsecure
-  upb
+  ${_gRPC_UPB_LIBRARIES}
 )
 if(_gRPC_PLATFORM_IOS OR _gRPC_PLATFORM_MAC)
   target_link_libraries(grpc_test_util_unsecure "-framework CoreFoundation")
@@ -3474,7 +3474,7 @@ target_link_libraries(grpc_unsecure
   ${_gRPC_UPB_LIBRARIES}
   ${_gRPC_ALLTARGETS_LIBRARIES}
   gpr
-  upb
+  ${_gRPC_UPB_LIBRARIES}
 )
 if(_gRPC_PLATFORM_IOS OR _gRPC_PLATFORM_MAC)
   target_link_libraries(grpc_unsecure "-framework CoreFoundation")
@@ -3813,7 +3813,7 @@ target_link_libraries(grpc++
   ${_gRPC_ALLTARGETS_LIBRARIES}
   grpc
   gpr
-  upb
+  ${_gRPC_UPB_LIBRARIES}
 )
 
 foreach(_hdr
@@ -4142,7 +4142,7 @@ target_link_libraries(grpc++_alts
   ${_gRPC_ALLTARGETS_LIBRARIES}
   grpc++
   gpr
-  upb
+  ${_gRPC_UPB_LIBRARIES}
 )
 
 foreach(_hdr
@@ -4949,7 +4949,7 @@ target_link_libraries(grpc++_unsecure
   ${_gRPC_ALLTARGETS_LIBRARIES}
   gpr
   grpc_unsecure
-  upb
+  ${_gRPC_UPB_LIBRARIES}
 )
 
 foreach(_hdr
@@ -5973,7 +5973,7 @@ target_link_libraries(grpc_csharp_ext
 
 
 endif()
-
+if(0)
 add_library(upb
   third_party/upb/upb/decode.c
   third_party/upb/upb/encode.c
@@ -6013,10 +6013,10 @@ target_include_directories(upb
 target_link_libraries(upb
   ${_gRPC_ALLTARGETS_LIBRARIES}
 )
+endif()
 
 
-
-if(gRPC_INSTALL)
+if(gRPC_INSTALL AND 0)
   install(TARGETS upb EXPORT gRPCTargets
     RUNTIME DESTINATION ${gRPC_INSTALL_BINDIR}
     LIBRARY DESTINATION ${gRPC_INSTALL_LIBDIR}
diff --git a/cmake/gRPCConfig.cmake.in b/cmake/gRPCConfig.cmake.in
index 5bfa73c291..8a867df301 100644
--- a/cmake/gRPCConfig.cmake.in
+++ b/cmake/gRPCConfig.cmake.in
@@ -7,6 +7,7 @@ list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_LIST_DIR}/modules)
 @_gRPC_FIND_SSL@
 @_gRPC_FIND_CARES@
 @_gRPC_FIND_ABSL@
+find_package(upb CONFIG)
 
 # Targets
 include(${CMAKE_CURRENT_LIST_DIR}/gRPCTargets.cmake)
diff --git a/cmake/upb.cmake b/cmake/upb.cmake
index 2c0ab84e67..746e067f8e 100644
--- a/cmake/upb.cmake
+++ b/cmake/upb.cmake
@@ -12,9 +12,9 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-set(UPB_ROOT_DIR ${CMAKE_CURRENT_SOURCE_DIR}/third_party/upb)
+find_package(upb REQUIRED)
+set(_gRPC_UPB_INCLUDE_DIR)
 
-set(_gRPC_UPB_INCLUDE_DIR "${UPB_ROOT_DIR}")
 set(_gRPC_UPB_GRPC_GENERATED_DIR "${CMAKE_CURRENT_SOURCE_DIR}/src/core/ext/upb-generated")
 
-set(_gRPC_UPB_LIBRARIES upb)
+set(_gRPC_UPB_LIBRARIES upb::upb)
